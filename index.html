<hntm>

<style type="text/css" media="screen">
    #code { 
         width: 70%;
         float:center;
         min-height:300px;
         overflow: hidden;
     }
</style>

<script src="jquery.min.js"></script>
<script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>


<script>
    var code;
    
    $(function() {
        code = ace.edit("code");
	id="code"
        code.setTheme("ace/theme/textmate");
	code.getSession().setMode("ace/mode/c_cpp");
	code.setShowPrintMargin(false);
	code.setOptions({
	    maxLines: Infinity,
	    fontSize: "12pt",
	    });
	    code.$blockScrolling = Infinity;
	    
    });
</script>

<script>

function run() {

    var cmd = "g++ -Wall main.cpp -o main_prog && echo 'Compilation: SUCCESS."
        + " Program output is:\n' && ./main_prog && echo \"\nExit code: $?\"";

    var output = $("#output");
    output.text('');
    var to_compile = {
        "src": code.getValue(),
        "cmd": cmd,
    };

    output.text("Executing... Please wait.");

    $.ajax({
        url: "http://coliru.stacked-crooked.com/compile",
        type: "POST",
        data: JSON.stringify(to_compile),
        contentType:"text/plain; charset=utf-8",
        dataType: "text"
    }).done(function(data) {
        output.text(data);
    }).fail(function(data) {
        output.text("Server error: " + data);
    });
};

</script>

<body>

<br>

<button id="run" onclick='run();'>Run</button> 

<p>Output:</p><pre id="output">Waiting...</pre>

Test
<br>
<center>
JOPA 37
</center>

<div id="code">
#include qqq;
</div>



</body>
</html>
